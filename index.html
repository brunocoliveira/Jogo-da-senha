<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Jogo da Senha</title>
		<link rel="stylesheet" href="index.css"/>
	</head>

	<body>
        <h1>A Senha</h1>
        <h2>Descubra qual é a senha misteriosa!</h2>
        <h3>Regras:</h3>
            <ul>
                <li>Você deve escolher uma sequência de 4 números distintos de 0 a 9</li>            
                    <li>Ao clicar em validar, o jogo te dará dicas da sua senha informada, as dicas podem ser:
                        <ul><li>Verde: o número está correto e está na posição certa</li>
                            <li>Amarelo: o número está correto mas está na posição errada</li>
                            <li>Vermelho: o número está errado</li>
                        </ul></li>
                <li>Você vence  se conseguir  acertar a senha com 9 chances</li>
            </ul>
        </p>
        
        <div class="senha">
            <div class="campo">
                <input class='dig1' type="text" maxlength="1" min="0" max="9">
            </div>
            <div class="campo">
                <input class='dig2' type="text" maxlength="1" min="0" max="9">
            </div>
            <div class="campo">
                <input class='dig3' type="text" maxlength="1" min="0" max="9">
            </div>
            <div class="campo">
                <input class='dig4' type="text" maxlength="1" min="0" max="9">
            </div>
            <button class="validar" onclick="validar()">VALIDAR SENHA</button>
        </div>
        <div id="t1" class="tentativa">
            <h4>Tentativa 1</h4>
            <div class="campo">
                <input id='t1a' class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input id='t2a' class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input id='t3a' class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input id='t4a' class="digito" type="text" readonly>
            </div>
        </div>
        <div id="t2" class="tentativa"> 
            <h4>Tentativa 2</h4>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
        </div>
        <div class="tentativa">
            <h4>Tentativa 3</h4>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
        </div>
        <div class="tentativa">
            <h4>Tentativa 4</h4>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
        </div>
        <div class="tentativa">
            <h4>Tentativa 5</h4>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
        </div>
        <div class="tentativa">
            <h4>Tentativa 6</h4>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
        </div>
        <div class="tentativa">
            <h4>Tentativa 7</h4>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
        </div>
        <div class="tentativa">
            <h4>Tentativa 8</h4>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
        </div>
        <div class="tentativa">
            <h4>Tentativa 9</h4>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
            <div class="campo">
                <input class="digito" type="text" readonly>
            </div>
        </div>

        <script>
            let senha = '1548'

            function pertence (value, senhaArray) {
                resultado = senhaArray.some (function (senhaArray)  {
                    return this == senhaArray;
                },value); 
                return resultado
            }
            
            function validar() {
                    var senhaArray = senha.split('')
                    var inputs = document.querySelectorAll(".senha input")
                    //var dig= (inputs.sub(0,1))
                    //Como buscar o primeiro elemento de uma string
                    
                    inputs.forEach( function(dig, index) {
                        index=index+1
                    //var dig1 = document.getElementByClassName('dig1')
                        document.getElementById('t'+index+'a').value=dig.value
                    
                    if (dig.value == senhaArray[index-1]) {
                        document.getElementById('t'+index+'a').style.backgroundColor = '#53FD30';
                    //Outras maneiras de verificar a posição do array
                    //  document.getElementById('t1').querySelectorAll('input')[index]
                    //  document.getElementById('t1').querySelectorAll('input').get(index) 
                    //Se a comparação for verdadeira vou usar a classe verde dig.style.backgroundColor = '#53FD30';
                    
                    } else if (pertence(dig.value, senhaArray)) {
                        document.getElementById('t'+index+'a').style.backgroundColor = '#FDDE30'
                    //Verificar se o elemento pertence a senha, ou seja se está em uma das quatro posições
                    //Se essa comparação for verdadeira vou usar a classe amarela
                    
                    } else {
                        document.getElementById('t'+index+'a').style.backgroundColor = '#FD3030';
                    //Se a comparação for falsa vou usar a classe vermelha

                    }
                })
                document.getElementById('t1').style.display  ='block'

                // tentativas: esconder no html ou usar dentro do js
                //Depois de executar esses passos, caso a senha esteja incorreta, a div tentativa 1 é preenchida com os números digitados, e com as respectivas cores.
                //E por último, os inputs devem ser limpos para que uma nova tentativa seja realizada.
                //Caso a senha esteja correta, ativar mensagem GANHOU, alterar botão Validar senha pra Jogar novamente
                //Quando clicar no botão Jogar novamente, restaurar o jogo a tela inicial, com os campos vazios
            
                
            }
            



            /*
            ==Tentando fazer a comparação entre os números digitados e valor da variável senha==
            
            var valid = document.getElementsByClassName('validar')
            valid.addEventListener('click', clicar)

            function clicar() {
                valid.style.background = 'green'
            }
            
            */


            /*
            ==Tentando fazer a comparação entre os números digitados e valor da variável senha==

            var check = document.getElementsByClassName('senha')
            check.addEventListener(== 'senha')
            */


            /*
            ==Tentando formatar o input pra receber somente números==
            
            function soNumero(dig){
                    if((dig>=0 && dig<=9)) return true;
                    else{
                    return false;
                }
            }
            
            */           
        </script>
    </body>
</html>